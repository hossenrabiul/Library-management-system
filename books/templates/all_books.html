{% extends 'base.html' %}

{% block content %}
<section class="  py-8 ">
  <div class="max-w-4xl mx-auto text-center pt-8">
    <h2 class="text-3xl font-bold text-blue-900 mb-6"> Find books from our extensive collection.</h2>
    <form class="flex justify-center">
      <input type="text" placeholder="Search Your Book Here"
        class="w-full max-w-lg px-4 py-3 rounded-l-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-600">
      <button class="px-6 py-3 bg-blue-600 text-white rounded-r-lg hover:bg-blue-700 focus:outline-none">
        Search
      </button>
    </form>
  </div>
</section>

<section class="  py-10 ">
  <div class="max-w-7xl mx-auto px-6 lg:px-8">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 justify-between jusify-items-between">
      <div class="lg:col-span-2  ">
        <div class="filter bg-white p-6 -ml-[10%]   shadow-sm overflow-y-auto text-xs h-52 my-2 py-4"
          style="overflow-x: hidden;">
          <h2 class="text-md font-semibold text-teal-700 mb-2 border-b-[1px] border-gray-400 pb-2">
             Categories 
          </h2>

          <ul class="space-y-2">
            {% for cat in categorys %}
            <li>
              <a href="{% url 'filter_category' cat.slug %}"
                class="text-xs text-gray-800 hover:text-teal-600 transition duration-300">
                {{ cat.CategoryName }}
              </a>
            </li>
            {% endfor %}
          </ul>
        </div>
        <div class="filter  p-6 -ml-[10%] overflow-y-auto text-xs border-t-[1px] border-gray-400  my-2 py-2"
          style="overflow-x: hidden;">
          <button class=" w-full bg-red-400 text-center py-2 "><a href="{% url 'books' %}"> Reset Filter</a> </button>
        </div>

      </div>

      <div class="lg:col-span-10 bg-white p-6">
        <h2 class="text-3xl font-bold text-blue-800 mb-8">Recommended Books</h2>
        <div class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4    gap-8">
        
          {% for book in books%}
          <div
            class="relative p-2 rounded-lg text-sm  transition duration-300 ease-in-out transform cursor-pointer group">
    
            <div class="group-hover:opacity-20 flex flex-col  ">
              <div class="items-center justify-center jusify-items-center m-auto">
                <img src="{{ book.image.url }}" alt="Book Title" class="h-32 object-cover rounded-md mb-4">
              </div>
              <h3 class="text-md font-semibold text-gray-800 mb-2  text-center">
                {{ book.title|truncatechars:20 }}
              </h3>
              <p class="text-gray-600 text-center ">
                {{ book.description|truncatechars:35 }}
              </p>
              <p class="text-teal-600 font-semibold mt-2 text-center ">
                <i class="fas fa-coins text-yellow-500"></i> {{ book.borrowing_price }}
              </p>
              <a href = "{% url 'details' book.id %}" class = "mt-6">
               
                <button class="absolute bottom-0 left-0 px-6 py-2 w-full text-blue-500 rounded-b-lg hover:text-blue-800 transition duration-300">
                  View Book
                </button>
              </a>
            </div>
          </div>
          {% endfor %}

        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
